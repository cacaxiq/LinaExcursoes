@model IEnumerable<WebSite_LinaExcursao.Infraestrutura.DataBase.Contexto.Tables.Viagens>

@{
    Layout = "~/Views/Shared/Admin_Layout.cshtml";
}

<p>
    @Html.ActionLink("Criar Novo", "Create", null, new { @class = "btn btn-success" })
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#fileModal">
        Adicionar arquivo
    </button>
</p>
<table class="table table-bordered">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Imagem)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Local)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Periodo)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Valor)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Tipo)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Descricao)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DataSaida)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DataRetorno)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DataInclusao)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @{
                    var imagem = string.Empty;
                    if (!string.IsNullOrEmpty(item.Imagem))
                    {
                        imagem = string.Format("<img class='img-responsive' src='img/Viagens/{0}'/>", item.Imagem);
                    }
                }

                @Html.Raw(imagem)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Local)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Periodo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Valor)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Tipo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Descricao)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DataSaida)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DataRetorno)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DataInclusao)
            </td>
            <td>
                @Html.ActionLink("Editar", "Edit", new { id = item.Id }, new { @class = "btn btn-primary" })
                @Html.ActionLink("Detalhe", "Details", new { id = item.Id }, new { @class = "btn btn-primary" })
                @Html.ActionLink("Deletar", "Delete", new { id = item.Id }, new { @class = "btn btn-danger" })
            </td>
        </tr>
                    }

</table>

<!-- Modal -->
@{Html.RenderAction("FileUpload", "File"); }